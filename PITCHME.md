# この2つのIPアドレスって同じネットワークにいるの？

---

## 目的
- IPアドレスとサブネットマスクを見て、同じネットワークか判断できるようになる

---

## やらないこと
- IPアドレスの詳細な説明

---

## 前提条件
- 以下の人向けです。
  - IPアドレス／サブネットマスクの意味がわからない人
  - 基本情報、応用情報、ネットワーク技術者の試験を受けようとしている人

---

## 発表する人
- Anorlondo448(あのーるろんど)
  - twitter(@Anorlondo448)
  - Qiita(@Anorlondo448)
  - ![アイコン](https://avatars1.githubusercontent.com/u/14850016?s=460&v=4 "アイコン")

---

## 告知
- 2/14(水)に[クラウド環境の構成について話そう！](https://beenos.connpass.com/event/78684/)っていうオフ勉強会やります。
- 今後もオフ勉強会やっていくのでシクヨロ！

---


## 形式および準備事項
- [join.me](https://join.me/Anorlondo448)で、一部画面共有します。


---


# この2つのIPアドレスって同じネットワークにいるの？

---

## 概要
- IPアドレス／サブネットマスクから、どのネットワークにいるかを判断します。
  - そもそも同じネットワークにいるとどうなんの？
  - 別のネットワークにいると通信できないの？
  - 同じネットワークかどうか、どうやって判断するの？

---

## そもそも同じネットワークにいるとどうなんの？
- コンピュータ同士でパケットを送信／受信して、データの通信できます。

---

## 別のネットワークにいると通信できないの？
- ルータと言うものがあると、ネットワーク間で通信できます。

---

## 同じネットワークかどうか、どうやって判断するの？
- サブネットマスクを使います。

---

## 具体的には？
### 例1. 以下の3つのIPアドレスは同じネットワークにいるでしょうか？
- 10.1.192.12/17
- 10.1.160.13/17
- 10.1.112.14/17

---

## 別の問題にしてみてイメージを掴む
### 例1'. 以下の3つの住所は同じ都道府県にいるでしょうか？
- 東京都千代田区千代田１丁目１番地
- 東京都千代田区大手町２丁目１番地１号
- 大阪府大阪市此花区桜島２丁目１番地３３号

---

### 例1'. 以下の3つの住所は同じ都道府県にいるでしょうか？
- 東京都__千代田区千代田１丁目１番地
- 東京都__千代田区大手町２丁目１番地１号
- 大阪府__大阪市此花区桜島２丁目１番地３３号

---

### 例1'-2. 以下の3つの住所は同じ丁目にいるでしょうか？
- 東京都千代田区千代田１丁目１番地
- 東京都千代田区大手町２丁目１番地１号
- 大阪府大阪市此花区桜島２丁目１番地３３号

---

### 例1'-2. 以下の3つの住所は同じ丁目にいるでしょうか？
- 東京都千代田区千代田１丁目__１番地
- 東京都千代田区大手町２丁目__１番地１号
- 大阪府大阪市此花区桜島２丁目__１番地３３号

---

## 同じ都道府県／区／丁目／番地にいるかどうか
- 住所を特定の位置で区切ることによって判断する
- 区切る位置は、人の目で経験から判断している

---

## IPアドレスが同じネットワークにいるか
- 機械だから、人のように判断するには基準が必要
  - サブネットマスク「xxx.xxx.xxx.xxx/24」を使う
---

### 例1. 以下の3つのIPアドレスは同じネットワークにいるでしょうか？
- 10.1.192.12/17
- 10.1.160.13/17
- 10.1.112.14/17  

## 別例
- 東京都千代田区千代田１丁目１番地/3

---

### 解法
- まず、/の左側部分を2進数に直します。
  - 10.1.192.12
  - → 00001010.00000001.11000000.00001100

---

- /の右側部分の数だけ、1をならべます
  - 00001010.00000001.11000000.00001100
  - 11111111.11111111.10000000.00000000  


- 別例
  - 東京都千代田区千代田１丁目１番地
  - １１１０００００００００００００

---

- 2つのビットのANDを取ります。
  - 0 and 0 = 0
  - 0 and 1 = 0
  - 1 and 0 = 0
  - 1 and 1 = 1  

---

- AND演算
  - 00001010.00000001.11000000.00001100
  - 11111111.11111111.10000000.00000000  
  - 00001010.00000001.10000000.00000000  

- 別例
  - 東京都千代田区千代田１丁目１番地
  - １１１０００００００００００００
  - 東京都

---

- これを10進数に戻します
  - 10.1.128.0  

- 別例
  - 東京都

---

- この算出した値を「ネットワークアドレス」と呼びます

---

- 同じように以下も行います
  - 10.1.160.13/17
  - 10.1.112.14/17  

- 別例
  - 東京都千代田区大手町２丁目１番地１号/3
  - 大阪府大阪市此花区桜島２丁目１番地３３号/3

---

## 同じネットワークにいる、とは
- ネットワークアドレスが同じもの、は同じネットワークにいるものになります。

---

## 解いてみよう
- [応用情報技術者 平成27年春期 午前問36](http://www.ap-siken.com/kakomon/27_haru/q36.html)


---
## 参考
- このサイトが詳しくそしてわかりやすくまとめてくれています。
  - [IPアドレスの基礎知識](https://qiita.com/mogulla3/items/efb4c9328d82d24d98e6)

---

## 終わりに
- これは計算問題なので、繰り返し計算することによりすぐ身につけられます
- 自分の会社のネットワークなどで、試してみましょう！
